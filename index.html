<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home | Awesome Company</title>

    <!-- FAVICON -->
    <link rel="icon" type="image/png" href="./assets/images/icon.png">

    <!-- CSS -->
    <link rel="stylesheet" href="style/reset.css">
    <link rel="stylesheet" href="style/main.css">
    <link rel="stylesheet" href="style/specific/search.css">

    <!-- JS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- ICONS -->
    <script src="https://kit.fontawesome.com/a68a4e99a5.js" crossorigin="anonymous"></script>

</head>
<body>
    
    <div id="search">
        <div class="container">
            <input type="text" name="search" id="searchInput" placeholder="Search some content...">
            <div id="result">
            </div>
        </div>
    </div>

    <header id="header">
        <div class="container">
            <a href="./index.html">Awesome Company</a>
            <nav>
                <ul class="column column--left">
                </ul>
                <ul class="column column--right" id="userData">
                    
                </ul>
            </nav>
        </div>
    </header>

    <section id="activity">
        <div class="container">
            <nav>
                <ul class="column column--left">
                    
                    <li>
                        <a href="#">
                            Cat√°logo
                        </a>
                    </li>
                    <li>
                        <a href="#" id="hombre">
                            Hombre
                        </a>
                        <i class="fas fa-caret-down"></i>
                        <div class="dropdown collapse" id="hombreDrop">
                            <ul>
                                <li>
                                    <a href="">Pantalon</a>
                                </li>
                                <li>
                                    <a href="">Pantalon</a>
                                </li>
                                <li>
                                    <a href="">Pantalon</a>
                                </li>
                                <li>
                                    <a href="">Pantalon</a>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="#" id="mujer">
                            Mujer
                        </a>
                        <i class="fas fa-caret-down"></i>
                        <div class="dropdown collapse" id="mujerDrop">
                            <ul>
                                <li>
                                    <a href="">Pantalon</a>
                                </li>
                                <li>
                                    <a href="">Pantalon</a>
                                </li>
                                <li>
                                    <a href="">Pantalon</a>
                                </li>
                                <li>
                                    <a href="">Pantalon</a>
                                </li>
                            </ul>
                        </div>
                    </li>

                </ul>
                <ul class="column column--right">
                    <li>
                        <a id="searchButton">
                            <i class="fas fa-search"></i>
                        </a>
                    </li>
                    <li>
                        <a href="#" id="cart">
                            <i class="fas fa-shopping-cart"></i>
                        </a>
                        <div class="dropdown collapse" id="cartDrop">
                            <ul id="cartItems" class="row row--upper">
                            </ul>
                            <ul class="row row--lower">
                                <li>Total: <span id="total"></span></li>
                                <li>
                                    <a href="./pages/payment/payment.html">
                                        Proceed to payment
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </nav>
        </div>
    </section>

    <section id="hero">
        <div class="container">
            <div class="bg-image">
                <h1>Compra tu ropa en el mejor lugar</h1>
                <p>Empieza hoy y redescubre la moda</p>
                <a href="./pages/login/index.html?type=sign-up">Empieza ahora</a>
            </div>
        </div>
    </section>

    <section id="catalog">
        <div class="container">
            <div class="column" id="articles">
            </div>
        </div>
    </section>

    <footer id="footer">
        <div class="container">
            <div class="row row--upper">
                <div class="column column--left">
                    <div>
                        <h4>Contacta</h4>
                        <a href="tel:971999888">üì± 971 999 888</a>
                        <a href="mailto:support@xrcompany.es">‚úâ support@xrcompany.es</a>
                        <a href="https://www.google.es/maps/place/Carrer+Poeta+Guillem+Colom,+1,+07010+Palma,+Illes+Balears/@39.5846391,2.6498561,17z/data=!3m1!4b1!4m8!1m2!2m1!1sC%2F+San+Valentin,+23!3m4!1s0x129792f96fce532b:0x78bbef72d1e9347f!8m2!3d39.584635!4d2.6520448">C/ San Valentin, 23</a>
                    </div>
                </div>
                <div class="column column--right">
                    <iframe width="600" height="450" style="border:0" loading="lazy" allowfullscreen src="https://www.google.com/maps/embed/v1/view?zoom=11&center=39.6013%2C2.6388&key=AIzaSyDwzXvWb5ytRvkh_9Rd22mP9s-XAoHBjcs"></iframe>
                </div>
            </div>
            <div class="row row--lower">
                <div class="column column--left">
                    <a href="#">T√©rminos y condiciones</a>
                    <a href="#">Pol√≠ticas de cookies</a>
                    <a href="#">Pol√≠ticas de cookies</a>
                </div>
                <div class="column column--right">
                    <p>Made with <span>‚ù§</span> by <a href="https://carlospomares.es">Pomaretta</a></p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"></script>
    <script src="./assets/js/ItemDB.js"></script>
    <script src="./assets/js/Persistent.js"></script>
    <script src="./assets/js/User/Logout.js"></script>
    <script src="./assets/js/Template.js"></script>
    <script src="./assets/js/Article.js"></script>
    <script src="./assets/js/Catalog.js"></script>
    <script src="./assets/js/Search.js"></script>

    <script>

        // IF USER
        if(JSON.parse(getData({key: "user"})) != null){

            let user = JSON.parse(getData({key: "user"}));

            $('#userData').empty();

            userHeaderData({container: 'userData', user: user});

        } else {

            $('#userData').empty();

            let template = 
            `
            <li><a href="./pages/login/index.html?type=sign-in">Login</a></li>
            <li class="highlight"><a href="./pages/login/index.html?type=sign-up">Sign Up</a></li>     
            `;

            $('#userData').append($.parseHTML(template));

        }

        $("#hombre").on("click",() => {
            if($("#hombreDrop").hasClass("collapse")){
                $("#hombreDrop").removeClass("collapse");
            } else {
                $("#hombreDrop").addClass("collapse");
            }
        })

        $("#mujer").on("click",() => {
            if($("#mujerDrop").hasClass("collapse")){
                $("#mujerDrop").removeClass("collapse");
            } else {
                $("#mujerDrop").addClass("collapse");
            }
        })

        $("#cart").on("click",() => {
            if($("#cartDrop").hasClass("collapse")){
                $("#cartDrop").removeClass("collapse");
            } else {
                $("#cartDrop").addClass("collapse");
            }
        })

        $("#controlButton").on("click",() => {
            if($("#userDrop").hasClass("collapse")){
                $("#userDrop").removeClass("collapse");
            } else {
                $("#userDrop").addClass("collapse");
            }
        })

        $("#searchButton").on('click', () => {
            $("body").toggleClass('active')
            $("#search").toggleClass('active')
        })

        $(document).keyup((e) => {
            if($("#search").hasClass('active') && e.key == "Escape"){
                $("body").toggleClass('active')
                $("#search").toggleClass('active')
            }
        })

        $(document).mousemove(function(event){

            var xPos = (event.clientX/$(window).width())-0.5,
            yPos = (event.clientY/$(window).height())-0.5,
            box = $(".bg-image");
        
            TweenLite.to(box, 1, {
                rotationY: xPos * 30, 
                rotationX: yPos * 50,
                ease: Power1.easeOut,
            });

        });

        window.onload = () => {
            addItems({container: 'articles'});
            updateCart();
        }

    </script>

</body>
</html>